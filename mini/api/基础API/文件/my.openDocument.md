# 简介
**my.openDocument** 是在新页面打开文件预览的 API，暂时只支持预览 PDF 格式文件。

## 使用限制

- 基础库 [1.15.0](https://opendocs.alipay.com/mini/framework/lib)或更高版本，支付宝客户端 10.1.60 或更高版本，若版本较低，建议采取 [兼容处理](/mini/framework/compatibility)。
- my.openDocument 只支持在真机上测试，无法在 IDE 上调试。
- 此 API 支持个人支付宝小程序、企业支付宝小程序使用。

# 接口调用

## 示例代码

### .js 示例代码
```javascript
my.downloadFile({
  // 示例 url，并非真实存在
  url: 'http://documentExample.com/alipay.pdf',
  success({ apFilePath }) {
    my.openDocument({
      filePath: apFilePath,
      fileType: 'pdf',
      success: (res) => {
        console.log('open document success')
      }
    })
  }
})
```
预览一个已被转换为 base64 的 PDF 文件：
```JavaScript
  openDocument(){
    //第一步：将base64字符串的PDF文件写入本地用户文件
    let fs = my.getFileSystemManager();
    fs.writeFile({
      filePath: `${my.env.USER_DATA_PATH}/test.pdf`,
      data: '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IC9DcmVhdGlvbkRhdGUgKEQ6MjAyMjA4MDMwMjMzMDNaMDAnMDAnKSAvTW9kRGF0ZSAoRDoyMDIyMDgwMzAyMzMwM1owMCcwMCcpCj4+CmVuZG9iagp4cmVmCjAgMTQKMDAwMDAwMDAwMCA2NTUzNSBmIAowMDAwMDAwMzI0IDAwMDAwIG4gCjAwMDAwMDMyNzIgMDAwMDAgbiAKMDAwMDAwMDAyMiAwMDAwMCBuIAowMDAwMDAwNDI4IDAwMDAwIG4gCjAwMDAwMDMyMzcgMDAwMDAgbiAKMDAwMDAwMDAwMCAwMDAwMCBuIAowMDAwMDAzNDA0IDAwMDAwIG4gCjAwMDAwMDA1MjUgMDAwMDAgbiAKMDAwMDAwMzM1NSAwMDAwMCBuIAowMDAwMDA0MDQ4IDAwMDAwIG4gCjAwMDAwMDM2NDYgMDAwMDAgbiAKMDAwMDAwNDI5MiAwMDAwMCBuIAowMDAwMDEwNDI5IDAwMDAwIG4gCnRyYWlsZXIKPDwgL1NpemUgMTQgL1Jvb3QgOSAwIFIgL0luZm8gMTMgMCBSIC9JRCBbIDw5OGNlZWUwMGM1NjE0YzIwYjRhZTU5NjlhYjFkMDIxYz4KPDk4Y2VlZTAwYzU2MTRjMjBiNGFlNTk2OWFiMWQwMjFjPiBdID4+CnN0YXJ0eHJlZgoxMDg4NgolJUVPRgo=',
      encoding: 'base64',
      success: (res) => {
        console.log(JSON.stringify(res))
        //第二步：预览PDF文件
        my.openDocument({
          filePath: `${my.env.USER_DATA_PATH}/test.pdf`,
          fileType: 'pdf',
          success: (res) => {
            console.log('open document success')
          },
          fail:(res) => {
            console.log('openDocument fail:'+JSON.stringify(res))
          },
        })
      },
      fail:(res) => {
        console.log('writeFile fail:'+JSON.stringify(res))
      },
    });
  },
```

## 入参
Object 类型，属性如下：

| **属性** | **类型** | **必填** | **描述** |
| --- | --- | --- | --- |
| filePath | String | 是 | 文件路径([本地临时文件](https://opendocs.alipay.com/mini/03dt4s#%E6%9C%AC%E5%9C%B0%E4%B8%B4%E6%97%B6%E6%96%87%E4%BB%B6)、[本地缓存文件](https://opendocs.alipay.com/mini/03dt4s#%E6%9C%AC%E5%9C%B0%E7%BC%93%E5%AD%98%E6%96%87%E4%BB%B6)、[本地用户文件](https://opendocs.alipay.com/mini/03dt4s#%E6%9C%AC%E5%9C%B0%E7%94%A8%E6%88%B7%E6%96%87%E4%BB%B6))。其中本地缓存文件、本地用户文件路径客户端 10.2.60 开始支持，之前的客户端版本存在兼容性问题。 |
| fileType | String | 否 | 文件类型。 |
| success | Function | 否 | 调用成功的回调函数。 |
| fail | Function | 否 | 调用失败的回调函数。 |
| complete | Function | 否 | 调用结束的回调函数（调用成功、失败都会执行）。 |


### fileType 合法值
| **值** | **说明** |
| --- | --- |
| pdf | PDF 格式。 |


## 错误码
| **错误码** | **描述** | **解决方案** |
| --- | --- | --- |
| 4011 | 无效的文件路径，或者传入路径没有权限访问。 | 检查传入的文件路径。 |
| 4012 | 预览文件不存在。 | 确保文件路径对应的文件存在。 |
| 4013 | 文件类型暂不支持。 | 目前暂仅支持 PDF 文件格式的预览 。 |

# Bug & Tips

- iOS: 10.2.60 之前的版本不支持[本地缓存文件](https://opendocs.alipay.com/mini/03dt4s#%E6%9C%AC%E5%9C%B0%E7%BC%93%E5%AD%98%E6%96%87%E4%BB%B6)。
- Android: 10.2.60 之前的版本不支持[本地用户文件](https://opendocs.alipay.com/mini/03dt4s#%E6%9C%AC%E5%9C%B0%E7%94%A8%E6%88%B7%E6%96%87%E4%BB%B6)。
- iOS: 通过 [my.downloadFile](https://opendocs.alipay.com/mini/api/xr054r) 获取的本地临时文件路径可能因为下载的文件头信息设置不规范进而打开失败。可通过将本地临时文件保存为本地用户文件（指定`filePath`值带`pdf`后缀）来规避，例如：

```javascript
// 注：如何接入文档管理器（my.getFileSystemManager）请查看文档 https://opendocs.alipay.com/mini/introduce/022rw2
const fs = my.getFileSystemManager();
my.downloadFile({
  // 示例 url，并非真实存在
  url: "http://documentExample.com/alipay.pdf",
  success(res) {
    fs.saveFile({
      tempFilePath: res.apFilePath,
      filePath: `${my.env.USER_DATA_PATH}/alipay.pdf`,
      success(res1) {
        my.openDocument({
          filePath: res1.savedFilePath,
          fileType: 'pdf',
        })
      }
    })
  }
});
```
