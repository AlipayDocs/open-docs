基础库负责加载小程序框架，提供所需的标准组件和 API 接口。

# 基础库与客户端的关系

小程序的能力依赖于支付宝客户端，新版基础库增加的新能力，要求特定版本以上的客户端才能运行。低版本客户端无法兼容高版本基础库的部分新功能。关于基础库兼容性的更多信息，参见[兼容](https://opendocs.alipay.com/mini/framework/compatibility)文档。

通过[my.SDKVersion](https://opendocs.alipay.com/mini/api/sdk-version)可查看当前基础库版本号。

# 基础库更新时机

基础库更新前，会在客户端内逐步灰度，直至全面发布。新版本发布后，一般在 1～2 星期内，会覆盖 98% 以上用户，请查看[更新日志](https://opendocs.alipay.com/mini/00d5f5)。当用户客户端升级到最新的基础库后，小程序便会在最新的基础库上运行。

由于基础库不断更新，不支持新能力的老版本客户端越来越多。因此，最低客户端版本是基础库支持范围的一个前提条件。这意味着，部分老版本客户端将无法更新至最新的基础库，而是停留在某个历史版本。例如，若用户支付宝客户端版本为 **1.0.0**，则基础库最多只能更新至 **1.1.0**。详情请参阅[v1.x 版本](https://opendocs.alipay.com/mini/ide/framework-changelog)。
# 基础库版本分布

当前小程序基础库存在 1.x 和 2.x 版本，在新版本客户端上同时存在，详情可查看[基础库 2.x 升级](https://opendocs.alipay.com/mini/framework/lib-upgrade-v2)。对应的版本分布如下：

## v2.x

更新时间：2024 年 1 月 11 日。

> “-” 代表此版本占比低于 0.01%。

| 基础库版本 | 用户占比 | 支付宝客户端最低版本 |
| --- | --- | --- |
| >=2.9.11 | 95.73% | 10.1.92 |
| 2.9.9 | 3.86% | 10.1.92 |
| 2.9.7 | 0.13% | 10.1.92 |
| 2.9.5 | 0.02% | 10.1.92 |
| 2.9.3 | 0.01% | 10.1.92 |
| 2.9.1 | 0.02% | 10.1.92 |
| 2.8.23 | - | 10.1.92 |
| 2.8.21 | - | 10.1.92 |
| 2.8.19 | 0.03% | 10.1.92 |
| 2.8.17 | 0.01% | 10.1.92 |
| 2.8.15 | - | 10.1.92 |
| 2.8.12 | - | 10.1.92 |
| 2.8.11 | - | 10.1.92 |
| 2.8.10 | 0.01% | 10.1.92 |
| 2.8.9 | - | 10.1.92 |
| 2.8.8 | 0.01% | 10.1.92 |
| 2.8.7 | - | 10.1.92 |
| 2.8.6 | - | 10.1.92 |
| 2.8.5 | -     | 10.1.92 |
| 2.8.4 | 0.01% | 10.1.92 |
| 2.8.3 | 0.01% | 10.1.92 |
| 2.8.2 | - | 10.1.92 |
| 2.8.1 | - | 10.1.92 |
| 2.8.0 | - | 10.1.92 |
| 2.7.24 | - | 10.1.92 |
| 2.7.23 | - | 10.1.92 |
| 2.7.22 | - | 10.1.92 |
| 2.7.21 | - | 10.1.92 |
| 2.7.20 | - | 10.1.92 |
| 2.7.19 | - | 10.1.92 |
| 2.7.18 | - | 10.1.92 |
| 2.7.17 | - | 10.1.92 |
| 2.7.16 | - | 10.1.92 |
| 其他 | 0.15% | 10.1.92 |
## v1.x

更新时间：2021 年 12 月 13 日。

| 基础库版本    | 用户占比 | 支付宝客户端最低版本 |
| ----------- | ------- | ------------------ |
| >=1.25.4    | 99.18%  | 10.1.75            |
| 1.25.3      | 0.02%   | 10.1.75            |
| 1.25.1      | 0.02%   | 10.1.75            |
| 1.24.13     | 0.74%   | 10.1.75            |
| 其它        | 0.04%   | -                  |

# 设置最低基础库版本

登录 [开放平台控制台](https://open.alipay.com/dev/workspace)，进入小程序详情页 > **小程序信息** > **基础设置**，可设置小程序的最低基础库版本。如果小程序用户使用的基础库版本低于设置的最低版本要求，则无法正常使用小程序，并会提示用户更新支付宝版本。设置版本号后，应重新发布小程序，该设置才会生效。

**注意**：请确保已完成[基础库 2.x 升级](https://opendocs.alipay.com/mini/framework/lib-upgrade-v2)，才能将最低基础库版本号设置为基础库 2.0 对应的版本号，否则在真机上会一直提示升级支付宝版本。

![](https://cdn.nlark.com/yuque/0/2022/png/179989/1661332691436-c5e1cad9-a781-428e-8e9e-48165032b02e.png)

点击 **最低基础库版本** 对应的 **设置** 按钮，可查看不同的最低基础库版本对应的受影响用户 UV 占比。即近 30 天内访问小程序的用户中，基础库版本低于所选版本的用户占比。开发者可据此设置小程序的最低基础库版本。

选择需设置为最低基础库版本的版本号，点击 **确定** 按钮，即可完成设置。

![](https://cdn.nlark.com/yuque/0/2022/png/179989/1667815039629-d9981ffc-4d62-43d5-87af-4915fa372195.png)

此时，**最低基础库版本** 设置项对应的状态显示为 **已设置**。

![](https://cdn.nlark.com/yuque/0/2022/png/179989/1661332873573-2ca50a1d-af98-477f-8fae-bc5f2e1ac5fa.png)

# 常见问题

## Q：如何更新基础库版本？

A：目前没有可直接调用的 API 完成更新。基础库的更新依赖于支付宝客户端的版本升级。

## Q：如何切换 IDE 使用的基础库？

A：从支付宝小程序 IDE 2.9 版本起，支持切换要运行的基础库版本。想切换基础库版本，可点击模拟器顶部的四叶草设置菜单，选择 **设置**，之后选择相应的基础库版本进行模拟运行。**注意**：使用该功能时，应保持网络畅通。

![](https://gw.alipayobjects.com/mdn/rms_aba389/afts/img/A*t39tQp7Xx74AAAAAAAAAAAAAARQnAQ)
# 相关文档

- [兼容](https://opendocs.alipay.com/mini/framework/compatibility)
- [v1.x 版本](https://opendocs.alipay.com/mini/ide/framework-changelog)
