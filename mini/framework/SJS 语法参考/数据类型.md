SJS 目前支持以下数据类型：

- **String**：字符串。
- **Boolean**：布尔值。
- **Number**：数值。
- **Object**：对象。
- **Function**：函数。
- **Array**：数组。
- **Date**：日期。
- **Regexp**：正则表达式。
# 判断数据类型

SJS 提供了 `constructor` 与 `typeof` 两种方式判断数据类型。

## constructor

使用对象的 `constructor` 属性，可以确定数据的具体类型。这种方法适用于多种基本数据类型和引用类型，包括 `Number`、`String`、`Boolean`、`Object`、`Function`、`Array`、`Date` 和 `RegExp`。以下是使用 `constructor` 属性判断数据类型的例子：

```javascript
const number = 10;
console.log(number.constructor); // "Number"
const string = 'str';
console.log(string.constructor); // "String"
const boolean = true;
console.log(boolean.constructor); // "Boolean"
const object = {};
console.log(object.constructor); // "Object"
const func = function() {};
console.log(func.constructor); // "Function"
const array = [];
console.log(array.constructor); // "Array"
const date = new Date();
console.log(date.constructor); // "Date"
const regexp = new RegExp();
console.log(regexp.constructor); // "RegExp"
```

## typeof

`typeof` 是 JavaScript 中的一个运算符，它返回一个字符串，指明未经计算的操作数的类型。对于包括 `number`、`boolean`、`object`、`function` 和 `undefined` 在内的大多数基础和引用类型，`typeof` 都能返回预期的类型。不过要注意，对于数组、日期和正则表达式，`typeof` 都会返回 `'object'`，这是因为这些类型在 JavaScript 中本质上都是特殊的对象。下面展示了如何用 `typeof` 方法判断不同类型的变量：

```javascript
const num = 100;
const bool = false;
const obj = {};
const func = function() {};
const array = [];
const date = new Date();
const regexp = new RegExp();
console.log(typeof num); // 'number'
console.log(typeof bool); // 'boolean'
console.log(typeof obj); // 'object'
console.log(typeof func); // 'function'
console.log(typeof array); // 'object'
console.log(typeof date); // 'object'
console.log(typeof regexp); // 'object'
console.log(typeof undefined); // 'undefined'
console.log(typeof null); // 'object'
```
# string

## 语法

```javascript
'hello alipay';
'hello taobao';
```

## ES6 语法

```javascript
// 字符串模板
const a = 'hello';
const str = `${a} alipay`;
```

## 属性

- constructor：返回值为 "String"。
- length

**说明：**除 `constructor` 属性外，其他属性的具体含义请参考 ES5 标准。

## 方法

- toString
- valueOf
- charAt
- charCodeAt
- concat
- indexOf
- lastIndexOf
- localeCompare
- match
- replace
- search
- slice
- split
- substring
- toLowerCase
- toLocaleLowerCase
- toUpperCase
- toLocaleUpperCase
- trim

**说明：** 具体使用请参考 ES5 标准。
# 数值（Number）

## 语法

```javascript
const num = 10;
const PI = 3.141592653589793;
```

## 属性

`constructor`：返回 `"Number"`。

## 方法

- `toString`
- `toLocaleString`
- `valueOf`
- `toFixed`
- `toExponential`
- `toPrecision`

**说明**：具体使用请参考 ES5 标准。

# 布尔值（Boolean）

布尔值只有 `true` 和 `false` 两个特定的值。

## 语法

```javascript
const a = true;
```

## 属性

`constructor`：返回 `"Boolean"`。

## 方法

- `toString`
- `valueOf`

**说明**：具体使用请参考 ES5 标准。
# object

## 语法

```javascript
var o = {}; // 生成一个新的空对象
// 生成一个新的非空对象
o = {
  str: 'str', // 对象的 key 可以是字符串
  constVar: 2, // 对象的 key 也可以是符合变量定义规则的标识符
  val: {}, // 对象的 value 可以是任何类型
};
// 对象属性的读操作
console.log(1 === o['str']);
console.log(2 === o.constVar);
// 对象属性的写操作
o['str']++;
o['str'] += 10;
o.constVar++;
o.constVar += 10;
// 对象属性的读操作
console.log(12 === o['str']);
console.log(13 === o.constVar);
```

## ES6 语法

```javascript
// 支持
let a = 2;
o = {
  a, // 对象属性
  b() {}, // 对象方法
};
const { a, b, c: d, e = 'default' } = { a: 1, b: 2, c: 3 }; // 对象解构赋值 & default
const { a, ...others } = { a: 1, b: 2, c: 3 }; // 对象解构赋值
const f = { ...others }; // 对象解构
```

## 属性

`constructor`：返回字符串 `"Object"`。

```javascript
console.log('Object' === { a: 2, b: '5' }.constructor.name);
```

**修改说明**：

1. 代码注释中“对象的 key 也可以是符合变量定义规则的标识符”，原注释给出的例子是 `constVar`，对应读操作中使用的键为 `constVar`，而非 `string`。

2. 代码注释中原有的对 ES6 语法的解释 `// 支持` 可能不够明确，可以在其他地方详细解释 ES6 对象语法的新增特性。所以在此保留了原注释。

3. 关于 `constructor` 属性的解释部分，更正文本为返回字符串 `"Object"`，为了更精确地反映 JavaScript 中的属性获取方式，特别是当属性为函数时，应该使用 `.name` 获取函数的名称。所以对应的代码示例进行了相应调整。
`toString`：返回字符串 `"[object Object]"`。
# 函数

## 语法

```javascript
// 方法 1：函数声明
function a(x) {
  return x;
}
// 方法 2：函数表达式
var b = function(x) {
  return x;
};
// 方法 3：箭头函数
const double = x => x * 2;
function f(x = 2) {} // 函数参数默认值
function g({ name: n = 'xiaoming', ...other } = {}) {} // 函数参数解构赋值
function h([a, b] = []) {} // 函数参数数组解构赋值
// 匿名函数、闭包
var c = function(x) {
  return function() {
    return x;
  };
};
var d = c(25);
console.log(d() === 25); // 此行代码用于验证闭包功能
```

函数中可以使用 `arguments` 关键字。

```javascript
var a = function() {
  console.log(arguments.length === 2); // 输出参数数量是否为2
  console.log(arguments[0] === 1); // 检查第一个参数是否为1
  console.log(arguments[1] === 2); // 检查第二个参数是否为2
};
a(1, 2);
```

输出：

```javascript
true;
true;
true;
```
## 属性

- `constructor`：返回值为 `"Function"`。
- `length`：返回函数的形参个数。

## 方法

`toString` 方法：返回字符串 `"[function Function]"`。

## 示例

```javascript
var f = function (a, b) {};
console.log('Function' === f.constructor); // 判断 f 的构造函数是否为 'Function'
console.log('[function Function]' === f.toString()); // 调用 f 的 toString 方法，并判断是否返回预期字符串
console.log(2 === f.length); // 判断 f 的形参个数是否为 2
```

输出：

```plain
true
true
true
```
# array

## 语法

```javascript
var a = [];  // 空数组
a = [5, '5', {}, function () {}];  // 非空数组，数组元素可以是任何类型
const [b, , c, d = 5] = [1, 2, 3];  // 数组解构赋值 & 默认值
const [e, ...other] = [1, 2, 3];  // 数组解构赋值
const f = [...other];  // 数组解构
```

## 属性

- `constructor`：返回构造函数的引用，即“Array”。
- `length`：返回数组中元素的数量。

**说明：** 除 `constructor` 属性外，其他属性的具体含义请参考 ES5 标准。

## 方法

数组对象提供了多种方法，包括：

- `toString`：将数组转换为字符串并返回。
- `concat`：用于连接两个或多个数组。
- `join`：将数组中的元素连接成字符串并返回。
- `pop`：删除数组的最后一个元素并返回该元素。
- `push`：向数组的末尾添加一个或多个元素，并返回新数组的长度。
- `reverse`：颠倒数组中元素的顺序。
- `shift`：删除数组的第一个元素并返回该元素。
- `slice`：选取数组的一部分并返回一个新数组。
- `sort`：对数组的元素进行排序。
- `splice`：用于添加或删除数组中的元素。
- `unshift`：向数组的开头添加一个或多个元素，并返回新数组的长度。
- `indexOf`：搜索指定元素，并返回其位置。
- `lastIndexOf`：搜索指定元素，并返回其最后出现的位置。
- `every`：检测数组所有元素是否都符合指定条件。
- `some`：检测数组中的元素是否有符合指定条件的。
- `forEach`：数组每个元素都执行一次回调函数。
- `map`：通过指定函数处理每个元素，并返回处理后的数组。
- `filter`：创建一个包含通过测试的元素数组。
- `reduce`：将数组元素计算为一个值（从左到右）。
- `reduceRight`：将数组元素计算为一个值（从右到左）。

**说明：** 具体使用方法请参考 ES5 标准。
# date

## 语法

生成 `date` 对象需要使用 `getDate` 函数，该函数返回当前时间的对象。

```javascript
getDate();
getDate(milliseconds);
getDate(datestring);
getDate(year, month[, date[, hours[, minutes[, seconds[, milliseconds]]]]]);
```

## 参数

- `milliseconds`：自 1970 年 1 月 1 日 00:00:00 UTC 起的毫秒数。
- `datestring`：日期字符串，格式为 "month day, year hours:minutes:seconds"。
## 属性

`constructor`：返回值 `"Date"`。

**方法**：

- `toString`
- `toDateString`
- `toTimeString`
- `toLocaleString`
- `toLocaleDateString`
- `toLocaleTimeString`
- `valueOf`
- `getTime`
- `getFullYear`
- `getUTCFullYear`
- `getMonth`
- `getUTCMonth`
- `getDate`
- `getUTCDate`
- `getDay`
- `getUTCDay`
- `getHours`
- `getUTCHours`
- `getMinutes`
- `getUTCMinutes`
- `getSeconds`
- `getUTCSeconds`
- `getMilliseconds`
- `getUTCMilliseconds`
- `getTimezoneOffset`
- `setTime`
- `setMilliseconds`
- `setUTCMilliseconds`
- `setSeconds`
- `setUTCSeconds`
- `setMinutes`
- `setUTCMinutes`
- `setHours`
- `setUTCHours`
- `setDate`
- `setUTCDate`
- `setMonth`
- `setUTCMonth`
- `setFullYear`
- `setUTCFullYear`
- `toUTCString`
- `toISOString`
- `toJSON`

**说明**：具体使用请参考 ES5 标准。

```javascript
let date = new Date(); // 返回当前时间对象
date = new Date(1500000000000);
// 2017 年 7 月 14 日 10:40:00 GMT+0800 （中国标准时间）
date = new Date('2016-6-29');
// 2016 年 6 月 29 日 00:00:00 GMT+0800 （中国标准时间）
date = new Date(2017, 6, 14, 10, 40, 0, 0);
// 2017 年 7 月 14 日 10:40:00 GMT+0800 （中国标准时间）
```
# regexp

## 语法

生成 `regexp` 对象需要使用 `getRegExp` 函数。

```plain
getRegExp(pattern[, flags])
```

## 参数

- `pattern`（字符串）：定义正则表达式的文本。
- `flags`（字符串）：修饰符，只能包括以下字符：`g`、`i`、`m`。

## 属性

- `constructor`：该属性的值为字符串 `"RegExp"`。
- `global`
- `ignoreCase`
- `lastIndex`
- `multiline`
- `source`

**说明**：除 `constructor` 属性外，其它属性的具体含义，详见 ES5 标准。

## 方法

- `exec`
- `test`
- `toString`

**说明**：具体方法的使用，请参照 ES5 标准。

## 示例

```javascript
var reg = getRegExp('name', 'img');
console.log(true === reg.source === 'name');
console.log(true === reg.global);
console.log(true === reg.ignoreCase);
console.log(true === reg.multiline);
```
