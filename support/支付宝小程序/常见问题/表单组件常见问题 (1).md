# form表单

## 使用说明

- 预览效果建议以真机为准。
- 目前还不支持 form 表单渲染。
- formId 需要真机调试才会有返回值。
- 当点击 form 表单中 form-type 为 submit 的 [button](https://opendocs.alipay.com/mini/component/button) 组件时，会将表单组件值进行提交，需要在表单组件中加上 name 来作为 key。

##  常见问题

### 小程序前端如何通过form表单获取formId
参考[小程序前端如何通过form表单获取formId](https://opendocs.alipay.com/support/01rb7y)。 

### 小程序form表单可以静默触发吗
小程序不支持form表单静默触发，需要用户点击触发。 

### 如何使用onSubmit 提交 form
当点击 form 表单中 form-type 为 submit 的 button 组件时，会将表单组件值进行提交，需要在表单组件中加上 name 来作为 key。<br />携带 form 中的数据触发 submit 事件，event.detail = {value : {'slider': '80'}, buttonTarget: {'dataset': 'buttonDataset'} } (可以在 submit 按钮上添加自定义参数)，buttonTarget [1.7.0](https://opendocs.alipay.com/mini/framework/compatibility) 开始支持。

### formId返回值是否可以自定义
formId返回值不支持自定义，设置对应属性 report-submit 提交表单后支付宝返回。 

### 付款后调用消息下发返回formId为何显示不合法
检查选用的模板是不是表单类型，表单类的模板消息才可以使用表单组件生成的formId发送。 

### 支付宝小程序消息推送获取的formId有效期
formId 有效期是7天，可在 7 天内向用户推送消息。一个 formId 可发送三次。 

# button组件

## 常见问题

### button如何去除默认边框
设置 class 样式改为 `border: 0; padding: 0;`。

### 如何实现自定义分享中的button按钮触发页面分享
通过给 button 组件设置属性 open-type="share"，可以在用户点击按钮后触发。 

### 服务端要如何解密使用button点击授权获取的手机号
请查看文档 [接口内容加密接入](https://opendocs.alipay.com/common/02mse3)，各服务端语言解密可参考 [服务器各语言实现手机号/运动步数-AES密文解密](https://opendocs.alipay.com/support/01rb0s)。 

### 如何判断button的hover-stop-propagation属性是否生效
给当前元素的祖先元素添加一个点击效果，设置好之后，然后在点击看下有没有祖先元素是否有点击效果。 

### button的hover-class不生效
hover-class：按钮按下去的样式类。button-hover 默认为 `{background-color: rgba(0, 0, 0, 0.1); opacity: 0.7;}`，hover-class="none" 时表示没有被点击效果。<br />如果 button 的 hover-class 不生效，请检查代码是否已按官方文档标准书写，详情可 [button 按钮](https://opendocs.alipay.com/mini/component/button)。 

### 小程序如何显示每行显示bottom虚线框inline样式的底部border
可以使用 css 样式实现方式直接实现：border-bottom: 1px dashed #999;display: inline; 

### button按钮默认样式如何去除
在小程序当前页面的 page.acss 里添加样式清除或者在 app.acss 里添加，参考以下代码。<br />**注意：**在 app.acss 里添加，所有 button 都会改。
```css
button { 
  background-color: transparent; 
  padding: 0; 
  margin: 0;  
  position: static; 
  border: 0; 
  border-radius: 0;
  color: transparent;
}
button::after { 
  content: ''; 
  width: 0; 
  height: 0; 
  -webkit-transform: scale(1);
  transform: scale(1);  
  display: none;
  background: transparent;
}
```

## 其它表单组件常见问题

### 如何修改单选框的大小
暂不支持修改单选框大小。 

### 小程序胶囊按钮更换颜色
修改按钮 css 样式中与按钮绑定样式的背景色 background-color。 

### 监听键盘唤起和关闭

- 根据 input 的聚焦失焦事件判断键盘状态。
- 根据 input 的 onInput 和 onConfirm 来判断键盘状态。
- 可通过 page 页面中 events 的 [onKeyboardHeight](https://opendocs.alipay.com/mini/framework/page-detail) 方法键盘高度变化时触发，进行高度变化监听。 

### label无法绑定事件处理函数
[label](https://opendocs.alipay.com/mini/component/label) 组件不支持绑定事件处理函数，需要绑定事件可以通过内部子组件绑定事件来实现。 

### picker-view没产生onChange事件不返回当前的数组值吗
如果没有滚动改变，值就是数组中的第一个数据，只有在滑动改变的时候才会触发 onChange 方法；如果没有进行改变，点击确定后直接默认为数据的默认值即可。 
